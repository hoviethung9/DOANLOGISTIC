<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="plugins/animate/animate.min.css">
  <link rel="stylesheet" href="plugins/fontawesome/all.css">
  <link rel="stylesheet" href="plugins/webfonts/font.css">
  <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css" type="text/css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
  <!-- UIkit CSS -->
  <link rel="stylesheet" href="plugins/uikit/uikit.min.css" />
  <link rel="stylesheet" href="css/sign.css">

  <title>GHTK</title>

</head>

<body>
  <!--Navbar-->
  <!--Content-->
  <div class="content">
    <section class="signin ">
        <div class="container">
            <div class="signin-left">
                <div class="sign-title">
                    <h1>Đổi Mật Khẩu</h1>
                </div>
            </div>
            <div class="signin-right " >
              <form id="changePasswordForm">
                    <div class="username form-control1 ">
                        <input type="currentPassword"   id="currentPassword" placeholder="Mật Khẩu Hiện Tại ">
                    </div>
                    <div class="username form-control1 ">
                      <input type="email"   id="email" placeholder="Email">
                  </div>
                  <div class="username form-control1 ">
                    <input type="tel"   id="phoneNumber" placeholder="Số Điện Thoại">
                </div>
                    <div class="password form-control1">
                      <input type="password" id="newPassword" placeholder="Mật Khẩu Mới" autocomplete="current-password">
                    <div class="recaptcha form-control1">This site is protected by An,Hùng,Anh and the Google <a href="">Privacy Policy</a> and <a href="">Terms of Service</a> apply.</div>
                    <button type="submit" class="btn btn-success" style="float: right;">Đổi Mật Khẩu</button> <br> <br>            
                </form>
            </div>
        </div>
    </section>    
    <section class="section section-gallery">
      <div class="">
        <div class="hot_sp" style="padding-top: 70px;padding-bottom: 50px;">
          <h2 style="text-align:center;padding-top: 10px">
            <a style="font-size: 28px;color: black;text-decoration: none" href="">Khách hàng và Giao Hàng Tiết Kiệm</a>
          </h2>
        </div>
        <div class="list-gallery clearfix">
          <ul class="shoes-gp">
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.2 (1).jpg" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.3 (1).png" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.4 (1).png" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.5 (1).png" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.7 (1).png" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/10 (1).png" alt="">
              </div>
            </li>
          </ul>
        </div>
      </div>
    </section>
    <footer class="main-footer">
      <div class="container">
        <div class="">
          <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-3">
              <div class="footer-col footer-block">
                <h4 class="footer-title">
                  Giới thiệu
                </h4>
                <div class="footer-content">
                  <p>Giao hàng tiết kiệm, đảm bảo nhanh chóng và an toàn - sự lựa chọn hoàn hảo cho nhu cầu vận chuyển của bạn!</p>
                  <div class="logo-footer">
                    <img src="images/logo-bct.png" alt="Bộ Công Thương">
                  </div>
                  <div class="social-list">
                    <a href="#" class="fab fa-facebook"></a>
                    <a href="#" class="fab fa-google"></a>
                    <a href="#" class="fab fa-twitter"></a>
                    <a href="#" class="fab fa-youtube"></a>
                    <a href="#" class="fab fa-skype"></a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-3">
              <div class="footer-col footer-link">
                <h4 class="footer-title">
                  PHÁP LÝ &amp; CÂU HỎI
                </h4>
                <div class="footer-content toggle-footer">
                  <ul>
                    <li class="item">
                      <a href="#" title="Tìm kiếm">Tìm kiếm</a>
                    </li>
                    <li class="item">
                      <a href="#" title="Giới thiệu">Giới thiệu</a>
                    </li>
                    <li class="item">
                      <a href="#" title="Chính sách đổi trả">Chính sách đổi trả</a>
                    </li>
                    <li class="item">
                      <a href="#" title="Chính sách bảo mật">Chính sách bảo mật</a>
                    </li>
                    <li class="item">
                      <a href="#" title="Điều khoản dịch vụ">Điều khoản dịch vụ</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-3">
              <div class="footer-col footer-block">
                <h4 class="footer-title">
                  Thông tin liên hệ
                </h4>
                <div class="footer-content toggle-footer">
                  <ul>
                    <li><span>Địa chỉ:</span> 475A Đ. Điện Biên Phủ, Phường 25, Bình Thạnh, Thành phố Hồ Chí Minh</li>
                    <li><span>Điện thoại:</span> +84 (098) 8266052</li>
                    <li><span>Fax:</span> +84 (098) 8266052</li>
                    <li><span>Mail:</span> ankhseram1412@gmail.com</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-3">
              <div class="footer-col footer-block">
                <h4 class="footer-title">
                  FANPAGE
                </h4>
                <div class="footer-content">
                  <div id="fb-root">
                    <div class="footer-static-content">
                      <div class="fb-page" data-href="https://www.facebook.com/profile.php?id=100055988582904"
                        data-tabs="timeline" data-width="" data-height="215" data-small-header="false"
                        data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
                        <blockquote cite="https://www.facebook.com/profile.php?id=100055988582904"
                          class="fb-xfbml-parse-ignore"><a
                            href="https://www.facebook.com/profile.php?id=100055988582904">GHTK Việt Nam</a>
                        </blockquote>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="main-footer--copyright">
        <div class="container">
          <hr>
          <div class="main-footer--border" style="text-align:center;padding-bottom: 15px;">
            <p> <a href="https://www.facebook.com/profile.php?id=100055988582904"> GHTK Việt Nam</a>. <a target="_blank"
                href="https://www.facebook.com/profile.php?id=100055988582904">Facebook</a></p>
          </div>
        </div>
      </div>
    </footer>
  </div>
  

  <script type="module">
    // Khởi tạo Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyAD3paI--G69OCHeEGD_UrBoM806pF04WA",
    authDomain: "herroo.firebaseapp.com",
    databaseURL: "https://herroo-default-rtdb.firebaseio.com",
    projectId: "herroo",
    storageBucket: "herroo.appspot.com",
    messagingSenderId: "435793472033",
    appId: "1:435793472033:web:e3ad604b7f5a1c44fcd160",
    measurementId: "G-WN4E04H4N6"
  };

  firebase.initializeApp(firebaseConfig);
    const changePasswordForm = document.getElementById('changePasswordForm');

    changePasswordForm.addEventListener('submit', (e) => {
      e.preventDefault();

      const currentPassword = changePasswordForm['currentPassword'].value;
      const email = changePasswordForm['email'].value;
      const phoneNumber = changePasswordForm['phoneNumber'].value;
      const newPassword = changePasswordForm['newPassword'].value;

      const user = firebase.auth().currentUser;
      if (user) {
    const credential = firebase.auth.EmailAuthProvider.credential(email, currentPassword);

    // Kiểm tra độ dài mật khẩu và yêu cầu ít nhất một chữ cái hoa
    if (newPassword.length >= 8 && /[A-Z]/.test(newPassword)) {
      user.reauthenticateWithCredential(credential)
        .then(() => {
          user.updatePassword(newPassword)
            .then(() => {
              alert("Bạn đã thay đổi mật khẩu thành công, vui lòng đăng nhập lại tài khoản của mình.");
              window.location.href = 'signin.html';
            })
            .catch((error) => {
              alert("Thay đổi mật khẩu thất bại,vui lòng thử lại.");
              console.error(error);
            });
        })
        .catch((error) => {
          alert("Thông tin nhập không chính xác vui lòng kiểm tra lại mật khẩu củ, email và số điện thoại");
          console.error(error);
        });
    } else {
      alert("Mật khẩu có độ dài tổi thiểu 8 chữ cái và gồm ít nhất 1 chữ cái hoa.");
    }
  } else {
    alert("Lỗi, xin vui lòng thử lại");
  }
    });
  </script>

  <script async defer crossorigin="anonymous" src="plugins/sdk.js"></script>
  <script src="plugins/jquery-3.4.1/jquery-3.4.1.min.js"></script>
  <script src="plugins/bootstrap/popper.min.js"></script>
  <script src="plugins/bootstrap/bootstrap.min.js"></script>
  <script src="plugins/owl.carousel/owl.carousel.min.js"></script>
  <script src="js/home.js"></script>
  <script src="js/script.js"></script>
  <script src="plugins/uikit/uikit.min.js"></script>
  <script src="plugins/uikit/uikit-icons.min.js"></script>
  <script src="js/sign.js"></script>
</body>

</html>