<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="plugins/animate/animate.min.css">
  <link rel="stylesheet" href="plugins/fontawesome/all.css">
  <link rel="stylesheet" href="plugins/webfonts/font.css">
  <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css" type="text/css">
  <link rel="stylesheet" type="text/css" href="css/style.css">

  <!-- UIkit CSS -->
  <link rel="stylesheet" href="plugins/uikit/uikit.min.css" />
  <link rel="stylesheet" href="css/sign.css">

  <title>GHTK</title>

</head>
  <!--Navbar-->


  <!--Content-->
  <div id="Mainform" class="content">
    <section class="signup">
        <div class="container">
            <div class="signin-left">
                <div class="sign-title">
                    <h1>Tạo tài khoản</h1>
                </div>
            </div>
            <div class="signin-right ">
                <form action="">
                    <div class="firstname form-control1 ">
                        <input type="text"   id="firstname" placeholder="Họ">
                    </div>
                    <div class="lastname form-control1">
                        <input type="text" id="lastname" placeholder="Tên">
                    </div>
                    <div class="firstname form-control1">
                      <input type="number" class="form-control" id="number" placeholder="Số Điện Thoại">
                    </div>
                    <div class="sex form-control1">
                       <div class="female">
                          <input type="radio" id="female" checked  name="sex">
                          <label for="female">Nữ</label>
                       </div>
                       <div class="male">
                        
                        <input type="radio" id="male"  name="sex">
                        <label for="male" >Nam</label>
                     </div>
                    </div>
                    <div class="email form-control1">
                        <input type="email"  id="email" placeholder="Email">
                    </div>
                    <div class="password form-control1">
                        <input type="password"  id="passwordInp" placeholder="Mật Khẩu">
                    </div>
                    <div class="password form-control1">
                      <input type="password" class="form-control" id="RepasswordIpn" placeholder="Nhập Lại Mật Khẩu">
                      
                    </div>
                    <div class="recaptcha form-control1">This site is protected by An,Hùng,Anh and the Google <a href="">Privacy Policy</a> and <a href="">Terms of Service</a> apply.</div>
                    <button type="submit" class="btn btn-success" style="float: right;">Đăng ký</button> <br> <br>
                       
                    </div>
                </form>
            </div>
        </div>
    </section>    
    <section class="section section-gallery">
      <div class="">
        <div class="hot_sp" style="padding-top: 70px;padding-bottom: 50px;">
          <h2 style="text-align:center;padding-top: 10px">
            <a style="font-size: 28px;color: black;text-decoration: none" href="">Khách hàng và Giao Hàng Tiết Kiệm</a>
          </h2>
        </div>
        <div class="list-gallery clearfix">
          <ul class="shoes-gp">
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.2 (1).jpg" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.3 (1).png" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.4 (1).png" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.5 (1).png" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/0.7 (1).png" alt="">
              </div>
            </li>
            <li>
              <div class="gallery_item">
                <img class="img-resize" src="images/10 (1).png" alt="">
              </div>
            </li>
          </ul>
        </div>
      </div>
    </section>
    <footer class="main-footer">
      <div class="container">
        <div class="">
          <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-3">
              <div class="footer-col footer-block">
                <h4 class="footer-title">
                  Giới thiệu
                </h4>
                <div class="footer-content">
                  <p>Giao hàng tiết kiệm, đảm bảo nhanh chóng và an toàn - sự lựa chọn hoàn hảo cho nhu cầu vận chuyển của bạn!</p>
                  <div class="logo-footer">
                    <img src="images/logo-bct.png" alt="Bộ Công Thương">
                  </div>
                  <div class="social-list">
                    <a href="#" class="fab fa-facebook"></a>
                    <a href="#" class="fab fa-google"></a>
                    <a href="#" class="fab fa-twitter"></a>
                    <a href="#" class="fab fa-youtube"></a>
                    <a href="#" class="fab fa-skype"></a>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-3">
              <div class="footer-col footer-link">
                <h4 class="footer-title">
                  PHÁP LÝ &amp; CÂU HỎI
                </h4>
                <div class="footer-content toggle-footer">
                  <ul>
                    <li class="item">
                      <a href="#" title="Tìm kiếm">Tìm kiếm</a>
                    </li>
                    <li class="item">
                      <a href="#" title="Giới thiệu">Giới thiệu</a>
                    </li>
                    <li class="item">
                      <a href="#" title="Chính sách đổi trả">Chính sách đổi trả</a>
                    </li>
                    <li class="item">
                      <a href="#" title="Chính sách bảo mật">Chính sách bảo mật</a>
                    </li>
                    <li class="item">
                      <a href="#" title="Điều khoản dịch vụ">Điều khoản dịch vụ</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-3">
              <div class="footer-col footer-block">
                <h4 class="footer-title">
                  Thông tin liên hệ
                </h4>
                <div class="footer-content toggle-footer">
                  <ul>
                    <li><span>Địa chỉ:</span> 475A Đ. Điện Biên Phủ, Phường 25, Bình Thạnh, Thành phố Hồ Chí Minh</li>
                    <li><span>Điện thoại:</span> +84 (098) 8266052</li>
                    <li><span>Fax:</span> +84 (098) 8266052</li>
                    <li><span>Mail:</span> ankhseram1412@gmail.com</li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-3">
              <div class="footer-col footer-block">
                <h4 class="footer-title">
                  FANPAGE
                </h4>
                <div class="footer-content">
                  <div id="fb-root">
                    <div class="footer-static-content">
                      <div class="fb-page" data-href="https://www.facebook.com/profile.php?id=100055988582904"
                        data-tabs="timeline" data-width="" data-height="215" data-small-header="false"
                        data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
                        <blockquote cite="https://www.facebook.com/profile.php?id=100055988582904"
                          class="fb-xfbml-parse-ignore"><a
                            href="https://www.facebook.com/profile.php?id=100055988582904">GHTK Việt Nam</a>
                        </blockquote>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="main-footer--copyright">
        <div class="container">
          <hr>
          <div class="main-footer--border" style="text-align:center;padding-bottom: 15px;">
            <p> <a href="https://www.facebook.com/profile.php?id=100055988582904"> GHTK Việt Nam</a>. <a target="_blank"
                href="https://www.facebook.com/profile.php?id=100055988582904">Facebook</a></p>
          </div>
        </div>
      </div>
    </footer>
  </div>
  <script>
    // Lấy tham chiếu tới các ô nhập mật khẩu
   const passwordInput = document.getElementById('passwordInp');
   const repasswordInput = document.getElementById('RepasswordIpn');
   
   // Thêm sự kiện 'input' để kiểm tra khi người dùng nhập liệu
   repasswordInput.addEventListener('input', function() {
       const password = passwordInput.value;
       const repassword = repasswordInput.value;
   
       // Biểu thức chính quy kiểm tra mật khẩu theo các điều kiện
       const passwordRegex = /^(?=.*[A-Z])(?=.*\d)(?=.*[a-z]).{8,}$/;
   
       if (password !== repassword) {
           // Nếu mật khẩu không khớp, hiển thị thông báo
           repasswordInput.setCustomValidity('Mật khẩu không khớp');
       } else if (!passwordRegex.test(password)) {
           // Nếu mật khẩu không đáp ứng các yêu cầu, hiển thị thông báo
           repasswordInput.setCustomValidity('Mật khẩu phải có ít nhất 8 ký tự, bao gồm : chữ hoa, chữ thường và số');
       } else {
           // Nếu mật khẩu đáp ứng yêu cầu, xóa thông báo
           repasswordInput.setCustomValidity('');
       }
   });
   </script>
<script type="module">
  // Import các thư viện Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
  import { getDatabase, get, ref, set} from "https://www.gstatic.com/firebasejs/10.6.0/firebase-database.js";
  import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
  

  const firebaseConfig = {
    apiKey: "AIzaSyAD3paI--G69OCHeEGD_UrBoM806pF04WA",
    authDomain: "herroo.firebaseapp.com",
    databaseURL: "https://herroo-default-rtdb.firebaseio.com",
    projectId: "herroo",
    storageBucket: "herroo.appspot.com",
    messagingSenderId: "435793472033",
    appId: "1:435793472033:web:e3ad604b7f5a1c44fcd160",
    measurementId: "G-WN4E04H4N6"
  };
  // Khai báo cấu hình Firebase và khởi tạo ứng dụng
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const auth = getAuth(app);

  let Mainform = document.getElementById('Mainform');

  let RegisterUser = evt => {
    evt.preventDefault();
    let EmailIpn = document.getElementById('email').value;
    let Password = document.getElementById('passwordInp').value;
    let femals = document.getElementById('female').value
    let FirstName = document.getElementById('firstname').value;
    let Phone = document.getElementById('number').value;
    let LastName = document.getElementById('lastname').value;

    let selectedGender = document.querySelector('input[name="sex"]:checked');
  let genderValue = selectedGender ? selectedGender.id : ''; // Lấy id của radio button được chọn


    createUserWithEmailAndPassword(auth, EmailIpn, Password)
      .then((userCredential) => {
        // Lấy UID của người dùng mới đăng ký
        const uid = userCredential.user.uid;

        // Tạo một đối tượng chứa thông tin người dùng
        const userData = {
          firstName: FirstName,
          lastName: LastName,
          email: EmailIpn,
          phone: Phone,
          genderValue: genderValue 
          // Các thông tin khác của người dùng nếu cần
        };
        // Cập nhật thông tin người dùng vào Realtime Database
        set(ref(db, 'UsersAuthList/' + uid), userData);
        alert("Đăng ký thành công thành công");
        // window.location.href = 'signin.html';
        Mainform.reset(); // Reset form sau khi đăng ký thành công
         // Xóa giá trị trong các ô input sau khi đăng ký thành công
      document.getElementById('email').value = '';
      document.getElementById('passwordInp').value = '';
      document.getElementById('female').value = '';
      document.getElementById('firstname').value = '';
      document.getElementById('number').value = '';
      document.getElementById('lastname').value = '';
      })
      .catch((error) => {
        console.error("Error creating user:", error);
        alert("Tài khoản đã được đăng ký: " + error.message);
      });
  };

  Mainform.addEventListener('submit', RegisterUser);
</script>



  <script async defer crossorigin="anonymous" src="plugins/sdk.js"></script>
  <script src="plugins/jquery-3.4.1/jquery-3.4.1.min.js"></script>
  <script src="plugins/bootstrap/popper.min.js"></script>
  <script src="plugins/bootstrap/bootstrap.min.js"></script>
  <script src="plugins/owl.carousel/owl.carousel.min.js"></script>
  <script src="js/home.js"></script>
  <script src="js/script.js"></script>
  <script src="plugins/uikit/uikit.min.js"></script>
  <script src="plugins/uikit/uikit-icons.min.js"></script>
  <script src="js/sign.js"></script>
</body>

</html>